<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" /><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(2),u=e(3),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}finally{f.emit("fn-end",[c.now()],t)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],3:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],4:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=m(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){v[e]=m(e).concat(n)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(t)}function g(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var v={},y={},b={on:l,emit:t,get:w,listeners:m,context:n,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(2),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=h.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+h.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===d.readyState&&i()}function i(){f("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),f=e("handle"),c=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=n.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),f("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":0,"licenseKey":"cd1101aa94","agent":"","transactionName":"bgcDMkBZW0NZBkdcWVdNJxNcW0FZVwscV1dKB08QW11CQxYTWlBBZgEOC19dW0QCEVtHU1gG","applicationID":"6369297","errorBeacon":"bam.nr-data.net","applicationTime":418}</script>
    <title>Transforming DWPCs for hetnet edge prediction | Thinklab</title>
	  <link rel="shortcut icon" href="https://think-lab.s3.amazonaws.com/s/img/favicon.ico" type="image/x-icon" />
    <meta property="og:image" content="https://think-lab.s3.amazonaws.com/s/img" />
    
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />

<link rel="stylesheet" href="https://think-lab.s3.amazonaws.com/s/highlightjs/github.css" />
<link rel="stylesheet" href="https://think-lab.s3.amazonaws.com/s/css/css.css" />
<link rel="stylesheet" href="https://think-lab.s3.amazonaws.com/s/css/bootstrap-multiselect.css" />
<!-- <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'> -->

    
    
    
    
  
    <meta name="citation_doi" content="10.15363/thinklab.d193">
    <meta name="citation_title" content="Transforming DWPCs for hetnet edge prediction">
    <meta name="citation_online_date" content="April 1, 2016">
    <meta name="citation_author" content="Daniel Himmelstein, Pouya Khankhanian, Antoine Lizee">
    <meta name="citation_journal_title" content="Thinklab">
    <meta name="citation_publisher" content="Thinklab">
  

    


	<!-- GoogleAnalytics -->
	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-48550230-1', 'thinklab.org');
	ga('require', 'displayfeatures');
	
	ga('send', 'pageview');

	</script>






</head>
<body >
  <form id="form_action" method="post">
    <input type='hidden' name='csrfmiddlewaretoken' value='JC3hnVSWzcwBOS226QTq2eGyHXj1YAM6' />
</form>

	

	<div class="body-wrapper">

		


<!-- <div style="height:5px;background-image:url('https://think-lab.s3.amazonaws.com/s/img/top-bg.gif');"></div> -->
<div class="gradient">
	<div class="main-centered-div header-container">

<table class="full-width" style="height:60px;"><tr>
	<td style="width:200px;vertical-align:middle;padding-bottom:15px;">
		<a href="/" style="font-weight:normal;color:#212121;"><img src="https://think-lab.s3.amazonaws.com/s/img/logo.png" width="160"></a>
	</td><td style="vertical-align:middle;text-align:left;padding-top:6px;width:100%;padding-left:40px;">
		<ul id="not-search-block"  class="main-header">


			


				<li class="dropdown">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#">Browse <span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="/proposals">Proposals</a></li>
						<li><a href="/projects">Projects</a></li>
						<li><a href="/publications">Article discussion</a></li>
						<li><a href="/discussion">All discussion</a></li>
					</ul>
				</li>
				<li><a href="/leaderboard">Leaderboard</a></li>

			
				<li><a href="/about">About</a></li>
			


		</ul>

    <ul id="search-block" class="main-header" style="display: none; margin-right: 30px;">
        <li class="full-width">
            <form method="get" action="/search">
			<div class="input-group full-width">
				<input name="q" type="text" class="form-control search-input">
			</div>
            </form>
        </li>
    </ul>

	</td><td style="vertical-align:middle;text-align:right;padding-top:6px; min-width: 1%; white-space: nowrap;">
		<ul class="main-header pull-right" style="padding-left: 0;">
    		
                <!-- <li><a href="/login" style="color:silver;">Login</a></li>
                <li style="margin-right:0"><a class="btn btn-default btn-sm btn-upper" href="/signup">Join</a></li> -->
            

        </ul>
    </ul>
	</td>
</tr></table>

<!-- <div id="global-search-div" class="main-centered-div" style="display:none;">
	<input type="text" value="" class="thread-search form-control" placeholder="Search" data-action="/discussion">
</div> -->

	</div>
</div>

		
	  



	  


		

		<div class="dark-head"><div class="main-centered-div">

			

		</div></div>
		
		<div class="main-centered-div" style="margin-top:40px;padding-bottom:340px">
	    

<div style="margin-top:-20px; margin-bottom:20px;">

    <a class="side-box" href="/p/rephetio" style="background-color:#ebfdff;"><div class="side-type">Project:</div> <div class="side-title">Rephetio: Repurposing drugs on a hetnet [rephetio]</div></a><br>



</div>

<table style="margin-top:0px;"><tr>
	<td class="thread-table-content">

		<table class="full-width">
			
<tr class="comment-tr target-hl" id="1" data-comment-id="1208">
  <td class="comment-profile-avatar">
		<a href="/u/dhimmel"><img class='profile_image photo-medium' src='https://think-lab.s3.amazonaws.com/m/profile/17_medium.jpg' width='60' height='60'></a>
  </td>
	<td class="comment-body">
    <a name="1208"></a>

    

			<h2 class="page-title" style="margin-bottom:5px;margin-top:0px !important;">Transforming DWPCs for hetnet edge prediction</h2>

			<div style="margin-top:5px;color:gray;margin-bottom:20px;font-size:13px;">
				<a style="font-weight:normal;color:#212121" href="/u/dhimmel"><strong>Daniel Himmelstein</strong></a>
				<span class="is-researcher">Researcher</span>
				&nbsp; <a href="#1" class="light">April 1, 2016</a>
				
			</div>

      

          <hr>
		

    <p>Our approach for hetnet edge prediction models the relationship between two nodes by extracting degree-weighted path counts (<em>DWPCs</em>) <span class="citation">[<a href="https://doi.org/10.1371/journal.pcbi.1004259" class="citation" data-key="10.1371/journal.pcbi.1004259">1</a>]</span>. We use <em>DWPCs</em>, each corresponding to a different metapath, as the main features for a logistic regression classifier. Here we will investigate whether <em>DWPCs</em> should be transformed prior to being used as predictors.</p>

<p>Below, we show the distribution of <em>DWPCs</em> for randomly selected metapaths, stratified by percent of non-zero values (<a href="https://github.com/dhimmel/learn/blob/becacbb47bed3346478a4c05beade44c165a22bd/all-features/transform.ipynb">notebook</a>). We look at three metapaths for each non-zero quintile. These distributions are calculated from all positives (<em>Compound–treats–Disease</em> pairs) but only a small subset of negatives (4 times the # of positives). Since positives tend to be more connected than negatives, we expect the distribution for all compound–disease pairs to be even sparser. </p>

<p><img src="https://github.com/dhimmel/learn/raw/becacbb47bed3346478a4c05beade44c165a22bd/all-features/media/DWPC-distribution.png" alt="Raw DWPC distributions" title="Facet strips note the non-zero quintile, metapath abbreviation, and non-zero percentage"></p>

<p>Note that the y-axis (histograms counts) is heavily transformed. The <em>DWPC</em> distribution is zero-inflated. The non-zero portion of the distribution has a long right tail, looking potentially lognormal.</p>

<p>My concern is that these long-tailed distributions are suboptimal for linear modeling. For example, they lead to very few extremely high predictions at the expense of all other predictions. We <a href="http://het.io/disease-genes/browse/disease/?disease=DOID_12236" title="Predictions for primary biliary cirrhosis">observed this trend</a> when we used a <em>DWPC</em> approach for predictng gene–disease associations.</p>

<p>This discussion will look into whether transforming <em>DWPCs</em> makes sense.</p>

		<div style="margin-left:30px;">

      


      <ul class="comment-notes">
				
				
			</ul>

      

		</div>

		


  </td>
</tr>

<tr class="comment-tr target-hl" id="2" data-comment-id="1209">
  <td class="comment-profile-avatar">
		<a href="/u/dhimmel"><img class='profile_image photo-medium' src='https://think-lab.s3.amazonaws.com/m/profile/17_medium.jpg' width='60' height='60'></a>
  </td>
	<td class="comment-body">
    <a name="1209"></a>

    

      <div class="comment-header">
        <a style="font-weight:bold;color:#212121" href="/u/dhimmel">Daniel Himmelstein</a>
				<span class="is-researcher">Researcher</span>
				<span class="light">&nbsp;<a href="#2" class="light">April 1, 2016</a>
          
        </span>
      </div>

    

    <h1>Inverse hyperbolic sine transformation</h1>

<p>One option is to use the inverse hyperbolic sine (IHS) transformation <span class="citation">[<a href="https://doi.org/10.2307/2288929" class="citation" data-key="10.2307/2288929">1</a>, <a href="https://doi.org/10.2307/2332539" class="citation" data-key="10.2307/2332539">2</a>]</span>. The IHS transformation has <a href="http://worthwhile.typepad.com/worthwhile_canadian_initi/2011/07/a-rant-on-inverse-hyperbolic-sine-transformations.html" title="A rant on inverse hyperbolic sine transformations">nice properties</a>. Foremost, it's zero preserving and easy to implement. It has a single parameter, <em>θ</em> that controls to what extent values are pulled towards 0. Here's an R implementation:</p>

<pre><code class="r">ihs_transform &lt;- function(x, theta = 1) {
  # Inverse Hyperbolic Sine transformation
  return(asinh(theta * x) / theta)
}</code></pre>

<p>This implementation can be easily ported to Python by replacing <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Hyperbolic.html"><code>asinh</code></a> with <a href="http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.arcsinh.html"><code>numpy.arcsinh</code></a>.</p>

<p>Now many applications, where the values extend into the natural number range, will do fine with the default <em>θ</em> = 1. However, since <em>DWPCs</em> tend to be very small numbers, the IHS transformation will have a negligible effect unless we increase <em>θ</em>.</p>

<p>Others have discussed choosing <em>θ</em> to <a href="http://stats.stackexchange.com/a/79109/74908">achieve normality</a> using <a href="http://stats.stackexchange.com/a/26373/74908">maximum likelihood</a>. There is also a recent R package <a href="https://cran.r-project.org/web/packages/ihs/index.html"><code>ihs</code></a> that could be useful.</p>

<p>So the question becomes, what exactly do we want our transformation to do? Should we base the fitting of <em>θ</em> only on the non-zero <em>DWPCs</em> or on all <em>DWPCs</em>. Should we use an efficient and simple heuristic to fit <em>θ</em> or should we go with a more intense likelihood method?</p>

		<div style="margin-left:30px;">

      


      <ul class="comment-notes">
				
				
			</ul>

      

		</div>

		


  </td>
</tr>

<tr class="comment-tr target-hl" id="3" data-comment-id="1211">
  <td class="comment-profile-avatar">
		<a href="/u/pouyakhankhanian"><img class='profile_image photo-medium' src='https://think-lab.s3.amazonaws.com/m/profile/188_medium.jpg' width='60' height='60'></a>
  </td>
	<td class="comment-body">
    <a name="1211"></a>

    

      <div class="comment-header">
        <a style="font-weight:bold;color:#212121" href="/u/pouyakhankhanian">Pouya Khankhanian</a>
				<span class="is-researcher">Researcher</span>
				<span class="light">&nbsp;<a href="#3" class="light">April 2, 2016</a>
          
        </span>
      </div>

    

    <p>Overall I'd say arcsin is a fine function. But to achieve your stated goals, I wonder why you didn't just use a log transformation? </p>

<p>To achieve goal<br>1.zero preserving<br>2. easy to implement</p>

<p>x -&gt; log(x+1)</p>

<p>To acheive a third goal<br>3. has a "theta" value that could be use to "pull" values toward zero</p>

<p>x-&gt; log(ax+1) / a</p>

<p>The arsinh, as you know, is a linear derivative of the exponential function. And thus the inverse of this is a derivative of the log. So I guess it's unclear why you chose a derivative rather than the actual.</p>

		<div style="margin-left:30px;">

      


      <ul class="comment-notes">
				
<li id="note-228" class="inline-note toggle-parent" data-note-id="228">
	<p><a href="/u/alizee">Antoine Lizee</a>: <a href="/u/pouyakhankhanian" class="username">@pouyakhankhanian</a> I find your last remark interesting, but unfortunately not quite accurate. I'll try to show it below (notes are not good for math...)
		
	</p>
	
	<table style="display:none;"></table>
</li>

				
			</ul>

      

		</div>

		


  </td>
</tr>

<tr class="comment-tr target-hl" id="4" data-comment-id="1212">
  <td class="comment-profile-avatar">
		<a href="/u/dhimmel"><img class='profile_image photo-medium' src='https://think-lab.s3.amazonaws.com/m/profile/17_medium.jpg' width='60' height='60'></a>
  </td>
	<td class="comment-body">
    <a name="1212"></a>

    

      <div class="comment-header">
        <a style="font-weight:bold;color:#212121" href="/u/dhimmel">Daniel Himmelstein</a>
				<span class="is-researcher">Researcher</span>
				<span class="light">&nbsp;<a href="#4" class="light">April 2, 2016</a>
          
        </span>
      </div>

    

    <h1>Log versus IHS transformation</h1>

<p><a href="/u/pouyakhankhanian" class="username">@pouyakhankhanian</a>, originally I stayed away from <code>log1p</code> because because it's <a href="https://www.wolframalpha.com/input/?i=log(x+%2B+1)+between+0+and+1" title="log(x + 1) between 0 and 1 · WolframAlpha">practically linear</a> across the range of our <em>DWPCs</em>. You bring up a good point regarding scaling <em>DWPCs</em> prior to transformation.</p>

<p>Yesterday, <a href="/u/alizee" class="username">@alizee</a> and I looked into scaling <em>DWPCs</em> before transformation. This would eliminate the need to fit <em>θ</em>: we could use <em>θ</em> = 1 for both the log and IHS transforms. For example, if <code>x</code> is the vector of <em>DWPCs</em> for a single feature, we could transform using:</p>

<pre><code class="r"># Standard deviation scaling
x_scale = sd(x)

# Mean absolute deviation scaling
x_scale = mad(x, center = mean(x))

# Mean scaling
x_scale = mean(x)

# Scale
x_scaled = x / x_scale

# Inverse hyperbolic sine transform
asinh(x_scaled)

# Log transform
log1p(x_scaled)</code></pre>

<p>I think we should choose between the log and IHS methods based on which gives better performance. Regarding choosing a derivative rather than the actual, I don't view one as inherently superior, especially since the IHS has better transformation properties than the log, such as handling negatives (although this isn't an issue here).</p>

<p>I think we should also use performance to choose the scaling method, but with a preference for standard deviation scaling since <a href="/u/alizee" class="username">@alizee</a> thinks it the most versatile method.</p>

		<div style="margin-left:30px;">

      


      <ul class="comment-notes">
				
				
			</ul>

      

		</div>

		


  </td>
</tr>

<tr class="comment-tr target-hl" id="5" data-comment-id="1215">
  <td class="comment-profile-avatar">
		<a href="/u/alizee"><img class='profile_image photo-medium' src='https://think-lab.s3.amazonaws.com/m/profile/23_medium.jpg' width='60' height='60'></a>
  </td>
	<td class="comment-body">
    <a name="1215"></a>

    

      <div class="comment-header">
        <a style="font-weight:bold;color:#212121" href="/u/alizee">Antoine Lizee</a>
				<span class="is-researcher">Researcher</span>
				<span class="light">&nbsp;<a href="#5" class="light">April 4, 2016</a>
          
        </span>
      </div>

    

    <h2>A remark on asinh, log1p and derivatives</h2>

<p>[The aim of this post is mainly to respond to <a href="/u/pouyakhankhanian" class="username">@pouyakhankhanian</a> regarding his post above] </p>

<p><a href="/u/pouyakhankhanian" class="username">@pouyakhankhanian</a>: I find your last remark interesting, but unfortunately not quite accurate as currently stated. </p>

<p>(i) <span class="math">$$\sinh$$</span> is not a linear derivative of the exponential function, but a simple linear combination of it: <span class="math">$$ \sinh = \frac{1}{2}(e^x - e^{-x}) $$</span>.</p>

<p>(ii) Further, your second sentence has no grounding: the inverse of a derivative of a function <span class="math">$$f$$</span> is definitely not the derivative of the inverse of the same <span class="math">$$f$$</span>... So even if (i) was right, the result wouldn't hold. </p>

<p>To see more clearly that <span class="math">$$log1p$$</span> and <span class="math">$$asinh$$</span> are not derivatives of each other, we can look at their analytical formulae:</p>

<div class="math">$$$
\begin{align}
\text{log1p}(x) &amp;= \log(1 + x)\\
\sinh^{-1}(x) &amp;= \log(x + \sqrt{1 + x^2})
\end{align}
$$$</div>

<p>On a related note, we see here that both functions are very similar. This similarity is even clearer when looking at their derivatives:</p>

<div class="math">$$$
\begin{align}
\text{log1p}'(x) &amp;= \frac{1}{1 + x}\\
(\sinh^{-1})'(x) &amp;= \frac{1}{\sqrt{1 + x^2}}
\end{align}
$$$</div>

<p>When <a href="https://www.wolframalpha.com/input/?i=Plot%5B%7B1%2FSqrt%5B1+%2B+x%5E2%5D,+(1+%2B+x)%5E(-1)%7D,+%7Bx,+0,+10%7D%5D">plotted</a>, the trend is clear. The derivative of <span class="math">$$\text{asinh}$$</span> takes some time to get into the form of <span class="math">$$ \frac{1}{x} $$</span>, thus expanding the beginning of the range (for <span class="math">$$x \in 0..2$$</span>) more than its counterpart.</p>

		<div style="margin-left:30px;">

      


      <ul class="comment-notes">
				
<li id="note-229" class="inline-note toggle-parent" data-note-id="229">
	<p><a href="/u/pouyakhankhanian">Pouya Khankhanian</a>: To be clear, I didn't mean "derivative" in the strict mathematical definition (i.e. d/dx f(x)) .  I supposed a better word would be a "relative" or "derivation", so please excuse the language. And I do agree that both functions are very similar, that was the point I was trying to make. I think Daniel understood the spirit of my comment and has addressed it appropriately.
		
	</p>
	
	<table style="display:none;"></table>
</li>

<li id="note-230" class="inline-note toggle-parent" data-note-id="230">
	<p><a href="/u/alizee">Antoine Lizee</a>: I thought it was maybe the case, but also that clarification might be useful in general.
		
	</p>
	
	<table style="display:none;"></table>
</li>

				
			</ul>

      

		</div>

		


  </td>
</tr>

<tr class="comment-tr target-hl" id="6" data-comment-id="1270">
  <td class="comment-profile-avatar">
		<a href="/u/dhimmel"><img class='profile_image photo-medium' src='https://think-lab.s3.amazonaws.com/m/profile/17_medium.jpg' width='60' height='60'></a>
  </td>
	<td class="comment-body">
    <a name="1270"></a>

    

      <div class="comment-header">
        <a style="font-weight:bold;color:#212121" href="/u/dhimmel">Daniel Himmelstein</a>
				<span class="is-researcher">Researcher</span>
				<span class="light">&nbsp;<a href="#6" class="light">April 16, 2016</a>
          
        </span>
      </div>

    

    <h1>Transformation sweep</h1>

<p>I ran a parameter sweep of transformation options on the all-features dataset (<a href="https://github.com/dhimmel/learn/blob/dd860cd19951886f3f82b04487d2faf6fa297e1b/all-features/7-transform.ipynb">notebook</a>). The sweep used 10-fold cross-validation to select the regularization strength and summarized results over 10 cross-validation random seeds. "All features" refers to the dataset that includes all metapaths as features but covers only a portion of compound–disease pairs. These findings are not guaranteed to hold for the all-observations dataset, which we use for predictions.</p>

<p>The performance results (<a href="https://github.com/dhimmel/learn/blob/dd860cd19951886f3f82b04487d2faf6fa297e1b/all-features/data/transformation-sweep.tsv">table</a>) show that it's important to transform degrees and <em>DWPCs</em>. As <a href="/u/alizee" class="username">@alizee</a> hypothesized, transforming with log1p versus asinh didn't make a big difference. If for simplicity we choose the same transformation for degrees and <em>DWPCs</em>, then asinh ranked higher than log1p. Regarding <em>DWPC</em> scaling, the mean appears to perform better than the standard deviation although the difference is small. I know <a href="/u/alizee" class="username">@alizee</a> thinks the mean is less standard for this purpose, but it seems intuitive for <em>DWPCs</em> which start at zero.</p>

<p>Hence, I plan to proceed by asinh transforming degrees and mean scaling and asinh transforming <em>DWPCs</em>.</p>

		<div style="margin-left:30px;">

      


      <ul class="comment-notes">
				
				
			</ul>

      

		</div>

		


  </td>
</tr>

    		
		</table>

    

    &nbsp;<br>
    <!-- <a class="btn btn-primary btn-lg" href="/signup?next=/discussion/transforming-dwpcs-for-hetnet-edge-prediction/193&suppress_message=1" style>Join to Reply</a> -->


		<table class="references table-td-5" style="display:none;"><tr><td><a href='/doi/10.1371/journal.pcbi.1004259' class='pub-comments tt-right zero-items' title='Article comments'>0</a></td><td><div class='pub-order'>1.</div></td><td><div class='doi-body' data-key='10.1371/journal.pcbi.1004259'><a href='/doi/10.1371/journal.pcbi.1004259' class='pub-title'>Heterogeneous Network Edge Prediction: A Data Integration Approach to Prioritize Disease-Associated Genes</a><div class='pub-body'>Daniel S. Himmelstein, Sergio E. Baranzini (2015) <i>PLOS Computational Biology</i>. doi:<a class='pub-doi' href='https://doi.org/10.1371/journal.pcbi.1004259'>10.1371/journal.pcbi.1004259</a></div></div></td></tr><tr><td><a href='/doi/10.2307/2288929' class='pub-comments tt-right zero-items' title='Article comments'>0</a></td><td><div class='pub-order'>2.</div></td><td><div class='doi-body' data-key='10.2307/2288929'><a href='/doi/10.2307/2288929' class='pub-title'>Alternative Transformations to Handle Extreme Values of the Dependent Variable</a><div class='pub-body'>John B. Burbidge, Lonnie Magee, A. Leslie Robb (1988) <i>Journal of the American Statistical Association</i>. doi:<a class='pub-doi' href='https://doi.org/10.2307/2288929'>10.2307/2288929</a></div></div></td></tr><tr><td><a href='/doi/10.2307/2332539' class='pub-comments tt-right zero-items' title='Article comments'>0</a></td><td><div class='pub-order'>3.</div></td><td><div class='doi-body' data-key='10.2307/2332539'><a href='/doi/10.2307/2332539' class='pub-title'>Systems of Frequency Curves Generated by Methods of Translation</a><div class='pub-body'>N. L. Johnson (1949) <i>Biometrika</i>. doi:<a class='pub-doi' href='https://doi.org/10.2307/2332539'>10.2307/2332539</a></div></div></td></tr></table>

    


	</td>
	<td class="thread-sidebar">


			

      <!-- <a class="btn btn-default follow-link btn-follow btn-lg is-following tt-top full-width" title="Follow discussion" data-id="193" data-ctype="thread" data-is-following="false">&nbsp;</a> -->

      
        <div class="status-box text-center"><span style="">Status:</span> 
  In Progress

</div>
      

      
        
      


				

					<div class="details">Views</div>
					<span style="font-size:20px;">76</span>

        

				
					<div class="details">Topics</div>
					<div style="margin-bottom:15px;">
		            <a href="/topics/regression" class="tag">Regression</a><a href="/topics/transformation" class="tag">Transformation</a><a href="/topics/dwpc" class="tag">DWPC</a><a href="/topics/ihs" class="tag">IHS</a>
					</div>
				


		
			<div class="details">Referenced by</div>
			<div style="font-size:12px;"><ul style="padding-left:16px !important;">
			
				<li>
					
					<a href='/d/210' class='thread-title'>Our hetnet edge prediction methodology: the modeling framework for Project Rephetio</a>
				</li>
			
				<li>
					
					<a href='/d/229' class='thread-title'>Decomposing predictions into their network support</a>
				</li>
			
				<li>
					
					Research report: <a href='/p/rephetio/report'>Rephetio: Repurposing drugs on a hetnet</a>
				</li>
			
				<li>
					
					<a href='/d/115' class='thread-title'>Assessing the informativeness of features</a>
				</li>
			
				<li>
					
					<a href='/d/214' class='thread-title'>Introducing the Residual Degree Weighted Path Count (R-DWPC)</a>
				</li>
			
				</ul>
			</div>
		

		
			<div class="details">Cite this as</div>
			<span style="font-size:12px;">
				Daniel Himmelstein, Pouya Khankhanian, Antoine Lizee (2016) Transforming DWPCs for hetnet edge prediction. <i>Thinklab.</i> doi:<a href='https://doi.org/10.15363/thinklab.d193'>10.15363/thinklab.d193</a>
			</span>
		

		<div class="details">License</div>
		<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0;width:88px;height:31px;" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a></p>

		<div class="details">Share</div>
		
			
				<a class="share-button fb" onclick="javascript:void(window.open('https://www.facebook.com/sharer/sharer.php?u=https%3A//thinklab.org/discussion/transforming-dwpcs-for-hetnet-edge-prediction/193','','width=600,height=460,menubar=no,status=no'));" href="#"></a>
<a class="share-button twitter" onclick="javascript:void(window.open('https://twitter.com/share?text=Transforming%20DWPCs%20for%20hetnet%20edge%20prediction&url=https%3A//thinklab.org/discussion/transforming-dwpcs-for-hetnet-edge-prediction/193','','width=600,height=300,menubar=no,status=no'));" href="#"></a>
<a class="share-button google" onclick="javascript:void(window.open('https://plus.google.com/share?url=https%3A//thinklab.org/discussion/transforming-dwpcs-for-hetnet-edge-prediction/193','','width=510,height=460,menubar=no,status=no'));" href="#"></a>

			
		

	</td>
</tr></table>


		</div>


		
	    	<div class="footer">
<!-- <div style="background:#dedede;">
	<div class="main-centered-div text-center" style="padding:20px;">
		<h4 style="margin-bottom:0px;font-weight:bold;color:gray;">Feedback? Questions? Email us: <a href="mailto:hello@thinklab.com">hello@thinklab.com</a></h4>
	</div>
</div> -->
<div class="main-footer">
	<div class="main-centered-div">

<table class="full-width"><tr>
	<td class="footer-nav">

        <div class="foot-head">Explore</div>
        <a href="/proposals">Proposals</a><br>
        <a href="/projects">Projects</a><br>
        <a href="/publications">Article discussion</a><br>
        <a href="/discussion">All discussion</a><br>
        <a href="/topics">Topics</a><br>
        <!-- <a href="/funders">Funders</a><br> -->
        <a href="/funding">Funding opportunities</a><br>

	</td>
	<td class="footer-nav">

        <!-- <div class="foot-head">Help &amp; feedback</div>	 -->
        <!-- <div class="foot-head">Intro</div>
        <a href="/benefits/for-science">Why</a><br>
        <a href="/how-it-works">How it works</a><br>

<br> -->

        <div class="foot-head">Community</div>
        <a href="/leaderboard">Leaderboard</a><br>
        <a href="/p/meta">Thinklab Meta</a><br>
				<a href="/help/faq">Help</a><br>
				<!-- <a href="/new-project">Start a proposal</a><br> -->
        <!-- <a href="/benefits/proposal">Benefits</a><br> -->
        <!-- <a href="/funding">Get funded</a><br> -->
        <!-- <a href="/participate">Become a contributor</a><br> -->
        <!-- <a href="/for-funders">For science funders</a><br> -->
        <!-- <a href="/for-institutions">For institutions</a><br> -->

	</td>
	<td class="footer-nav">



        <div class="foot-head">About</div>
        <a href="/about">Overview</a><br>
        <a href="/benefits">Benefits</a><br>
        <a href="/how-it-works">How it works</a><br>
        <a href="/about/story">Our story</a><br>
        <a href="/blog">Our blog</a><br>
        <a href="/about/jobs">Join the team</a><br>
        <br>

        <!-- <div class="foot-head">Help</div>
        <a href="/help">Help</a><br>
		 -->


	</td>
	<td class="footer-nav">
		<!-- <a href="http://twitter.com/thinklab" class="social-icon"><img src="https://think-lab.s3.amazonaws.com/s/img/icons/twitter_com.png" width="40"/></a>
		<a href="https://www.facebook.com/pages/Thinklab/310895039088185" class="social-icon"><img src="https://think-lab.s3.amazonaws.com/s/img/icons/facebook_com.png" width="40"/></a>
		<a href="https://plus.google.com/115578983466800753402/" class="social-icon"><img src="https://think-lab.s3.amazonaws.com/s/img/icons/plus_google_com.png" width="40"/></a>
		<a href="https://www.linkedin.com/company/thinklab-co" class="social-icon"><img src="https://think-lab.s3.amazonaws.com/s/img/icons/linkedin_com.png" width="40"/></a> -->
		<br><br>
		<span class="light" style='font-size:12px;'>&copy; 2015 Thinklab</span>

	</td>

</tr></table>

</div>
</div>
</div>

		

	</div>


  <script></script>
  <script>
  var MEDIA_URL = 'https://think-lab.s3.amazonaws.com/m/';
  var STATIC_URL = 'https://think-lab.s3.amazonaws.com/s/';
  var page_is_authenticated = false;
  var page_page = 'discussion';
  var page_profile_id = undefined;
</script>



	<!-- Note different script type. MUST come before MathJax.js -->
	<script type="text/x-mathjax-config">
	    MathJax.Hub.Config({
	        "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"],
	                        scale: 110, linebreaks: { automatic:true },
	                        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
	        tex2jax: { inlineMath: [ ["$$", "$$"], ["\\(","\\)"] ],
	                    displayMath: [ ["$$$","$$$"], ["\\[", "\\]"] ],
	                    processEscapes: true,}
	            });

	</script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>





  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script src="https://think-lab.s3.amazonaws.com/s/dist/main.min.js"></script>
  



  
	
  
  
  
<script>
$(function() {
  recordHit('thread', 193);
});
</script>



</body>
</html>
